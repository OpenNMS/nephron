<features xmlns="https://karaf.apache.org/xmlns/features/v1.6.0" name="nephron-${project.version}">

    <feature name="nephron" description="Nephron" version="${osgi.version}">
        <feature>nephron-jackson</feature>
        <feature>nephron-guava</feature>
        <feature>nephron-rate-limited-logger</feature>
        <feature>nephron-beam</feature>
        <feature>nephron-okhttp</feature>

        <bundle>mvn:com.google.code.gson/gson/2.9.1</bundle>
        <bundle>mvn:com.google.protobuf/protobuf-java/3.11.4</bundle>
        <bundle>mvn:com.google.protobuf/protobuf-java-util/3.11.4</bundle>
        <bundle>mvn:org.apache.commons/commons-lang3/3.12.0</bundle>
        <bundle>mvn:org.xerial.snappy/snappy-java/1.1.8.4</bundle>

        <bundle>mvn:org.opennms.nephron/nephron-main/${project.version}</bundle>
        <bundle>mvn:org.opennms.nephron/nephron-cortex/${project.version}</bundle>
        <bundle>mvn:org.opennms.nephron/nephron-proto/${project.version}</bundle>

        <bundle>mvn:it.unimi.dsi/fastutil/8.5.2</bundle>
    </feature>

    <feature name="nephron-beam">
        <bundle>wrap:mvn:org.apache.beam/beam-sdks-java-core/2.31.0</bundle>
        <bundle>wrap:mvn:org.apache.beam/beam-sdks-java-io-elasticsearch/2.31.0</bundle>
        <bundle>wrap:mvn:org.apache.beam/beam-sdks-java-io-kafka/2.31.0</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.kafka_2.13/2.6.3_1</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.kafka-clients/2.6.3_1</bundle>
    </feature>

    <feature name="nephron-jackson" >
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-core/2.12.3</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-databind/2.12.3</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-annotations/2.12.3</bundle>
    </feature>

    <feature name="nephron-jackson" >
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-core/2.12.3</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-databind/2.12.3</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-annotations/2.12.3</bundle>
    </feature>

    <feature name="nephron-guava">
        <bundle dependency="true">mvn:com.google.guava/guava/26.0-jre</bundle>
        <bundle dependency="true">mvn:com.google.guava/guava/28.1-jre</bundle>
        <bundle dependency="true">mvn:com.google.guava/failureaccess/1.0.1</bundle>
    </feature>

    <feature name="nephron-rate-limited-logger">
        <bundle>mvn:joda-time/joda-time/2.10.10</bundle>
        <bundle>wrap:mvn:com.swrve/rate-limited-logger/2.0.1</bundle>
    </feature>

    <feature name="nephron-okhttp">
        <bundle dependency='true'>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.okio/1.14.0_1</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.okhttp/3.10.0_2</bundle>
        <bundle dependency="true">wrap:mvn:com.squareup.okhttp3/logging-interceptor/3.10.0</bundle>
    </feature>

</features>